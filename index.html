<!DOCTYPE html>
<html>
<head>
	<title> Gulliver </title>
	
	<script src="dip.1.js"  type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="dip.css">
	<meta charset="utf-8">
</head>

<body>
	<div class="zagolovok"> 
		<p>Частотный анализ </p> 
	</div>
	
	<div class="knread">
	<input type="file" id="file">
	<br>
	<br>
	<button onclick="readFile(document.getElementById('file'))">Read!</button>
	<br>
	<div id="out"></div>
	</div>
	<br>

	<strong>Ищем повтор буквы:</strong>
	<input type=text name="element" id="element" size="15" maxlength="1" />
	<br>
	<br>

	<button onclick="elemCount()" value="count"><font color="white">Считать</font></button>
	<br><br>
	<div id="result"></div>


<script type="text/javascript">
	var sphrase;
	var result = document.getElementById("result");
	var element;
	var i;
	var num = 0;

	function readFile(object) 
	{
  		var file = object.files[0]
  		var reader = new FileReader()
  		reader.onload = function() 
  		{
    		document.getElementById('out').innerHTML = reader.result;
    		sphrase = reader.result;
  		}
  	reader.readAsText(file)
	} //чтение и открытие файла

	function elemCount() 
	{
		sphrase = sphrase.toUpperCase();
		element = document.getElementById("element").value;
		element = element.toUpperCase();

		num = 0;
		for(i=0; i<sphrase.length; i++)
		{
			if(sphrase[i] == element)//sphrase[i] == 'А'
			{
				num++;
			}
		}

		result.innerHTML = 'Количество повторов [' + element  + '] = ' + num;
	};//подсчет введенной буквы
</script>


</body>
</html>